!function(i){"use strict";const o=addonifyQuickViewPublicScriptObject.animateModelOnClose,e=addonifyQuickViewPublicScriptObject.closeModalOnEscClicked,n=addonifyQuickViewPublicScriptObject.closeModelOnOutsideClicked,t=addonifyQuickViewPublicScriptObject.enableWcGalleryLightBox,a={loadOnReady:function(){this.handleQuickViewButtonEvents(),this.handleCloseButtonEvents(),this.initPerfectScrollbar()},loadOnScroll:function(){},loadOnResize:function(){},handleQuickViewButtonEvents:function(){i("body").on("click",".addonify-qvm-button",function(e){e.preventDefault(),a.hydrateModalContent(parseInt(i(this).data("product_id"))),c.open()})},handleCloseButtonEvents:function(){i("body").on("click","#addonify-qvm-close-button",function(e){e.preventDefault(),o?c.animate():c.close()}),e&&i(document).keyup(function(e){27===e.keyCode&&(o?c.animate():c.close())}),n&&(i("#addonify-quick-view-modal-wrapper").css("cursor","pointer"),i("body").on("click","#addonify-quick-view-modal-wrapper",function(e){"addonify-quick-view-modal-wrapper"===e.target.id&&(o?c.animate():c.close())}))},setSpinner:function(e){var o=i("#adfy-qvm-spinner");"show"===e?o.removeClass("hide"):o.addClass("hide")},hydrateModalContent:function(e){let n=i("#addonify-quick-view-modal #adfy-quick-view-modal-content");if(a.setSpinner("show"),i(n).html(" "),!e)throw new Error("Addonify Quick View: Product id is not supplied!");i.ajax({type:"GET",url:addonifyQuickViewPublicScriptObject.ajaxURL,contentType:"application/json; charset=utf-8",data:{action:addonifyQuickViewPublicScriptObject.quickViewAction,product_id:e,nonce:addonifyQuickViewPublicScriptObject.nonce},success:function(e){var o;e.success?e.success&&(i(n).html(e.data),c.modalContentLoaded(e.data),0<(o=i(n).find(".variations_form")).length&&(o.each(function(){i(this).wc_variation_form()}),o.trigger("check_variations"),o.trigger("reset_image")),0<(o=i("#addonify-quick-view-modal .woocommerce-product-gallery")).length)&&o.each(function(){i(this).wc_product_gallery()}):console.warn(e.message)},error:function(e){console.error("Addonify Quick View - error loading modal content!"),console.log(e)},complete:function(){t&&a.renderWooCommerceGalleryTriggerIcon(),a.setSpinner("hide")}})},initPerfectScrollbar:function(){var e;"function"==typeof PerfectScrollbar?(e=document.getElementById("addonify-quick-view-modal"))&&new PerfectScrollbar(e,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20}):console.warn("Addonify Quick View: PerfectScrollbar is not defined. Perfect scroll bar won't be initialized.")},renderWooCommerceGalleryTriggerIcon:function(){var e=i("#addonify-quick-view-modal .woocommerce-product-gallery__trigger");0<e.length&&(e.html(" "),e.html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,24H17a1,1,0,0,1,0-2h2a3,3,0,0,0,3-3V17a1,1,0,0,1,2,0v2A5.006,5.006,0,0,1,19,24Z"/><path d="M1,8A1,1,0,0,1,0,7V5A5.006,5.006,0,0,1,5,0H7A1,1,0,0,1,7,2H5A3,3,0,0,0,2,5V7A1,1,0,0,1,1,8Z"/><path d="M7,24H5a5.006,5.006,0,0,1-5-5V17a1,1,0,0,1,2,0v2a3,3,0,0,0,3,3H7a1,1,0,0,1,0,2Z"/><path d="M23,8a1,1,0,0,1-1-1V5a3,3,0,0,0-3-3H17a1,1,0,0,1,0-2h2a5.006,5.006,0,0,1,5,5V7A1,1,0,0,1,23,8Z"/></svg>'))}},c={open:function(){i("body").addClass("addonify-qvm-is-active"),i(document).trigger("addonifyQuickViewModalOpened"),document.dispatchEvent(new CustomEvent("addonifyQuickViewModalOpened"))},close:function(){i("body").removeClass("addonify-qvm-is-active"),i(document).trigger("addonifyQuickViewModalClosed"),document.dispatchEvent(new CustomEvent("addonifyQuickViewModalClosed"))},animate:function(){let e=null,o=null,n=i("#addonify-quick-view-modal-wrapper");n.removeClass("play-opening-animation"),n.addClass("play-closing-animation"),clearTimeout(o),o=setTimeout(()=>{this.close(),n.removeClass("play-closing-animation"),clearTimeout(o)},800),clearTimeout(e),e=setTimeout(()=>{n.addClass("play-opening-animation"),clearTimeout(e)},1200)},modalContentLoaded:function(e){e={content:e};i(document).trigger("addonifyQuickViewModalContentLoded",[e]),document.dispatchEvent(new CustomEvent("addonifyQuickViewModalContentLoded",{detail:e}))}};i(document).ready(function(){a.loadOnReady()}),i(window).on("scroll",function(){a.loadOnScroll()}),i(window).on("resize",function(){a.loadOnResize()})}(jQuery);